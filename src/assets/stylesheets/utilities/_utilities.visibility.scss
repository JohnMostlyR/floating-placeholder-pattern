/*------------------------------------*\
    # VISIBILITY
\*------------------------------------*/

/**
 * Hide visually and from screen readers: http://bit.ly/1sfdZho
 */
.u-hidden {
  display: none !important;
  visibility: hidden;
}

/**
 * Make a class and placeholder of the visually hidden helper available at all breakpoints
 */
@mixin visibility-hidden($suffix: null) {
  $breakpoint-suffix: '';

  @if $suffix != null {
    $breakpoint-suffix: \@#{$suffix};
  }

  .u-visually-hidden#{$breakpoint-suffix} {
    @include visually-hidden;
  }
}

// Output the unsuffixed version
@include visibility-hidden();

// Output the suffixed version
$visibility-hidden-breakpoint-names: $jm-grid-breakpoints !default;

@each $breakpoint in $visibility-hidden-breakpoint-names {
  @include mq($from: '#{$jm-grid-breakpoint-namespace}#{$breakpoint}') {
    @include visibility-hidden($breakpoint);
  }
}

/**
 * Extends the .u-vh class to allow the element
 * to be focusable when navigated to via the keyboard:
 * http://bit.ly/1sfefwH
 */
.u-visually-hidden--focusable:active,
.u-visually-hidden--focusable:focus {
  @include visually-hidden;

  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;

  clip: auto;
}

/**
 * Hide visually and from screen readers, but maintain layout
 */
.u-invisible {
  visibility: hidden;
}
