/*------------------------------------*\
    # TABLE
\*------------------------------------*/

/**
 * A simple object for manipulating the structure of HTML `table`s.
 */
.o-table {
  width: 100%;
  border-collapse: separate;
  margin-bottom: double($gel-spacing-unit);
}

/**
 * Equal-width table cells.
 *
 * `table-layout: fixed` forces all cells within a table to occupy the same
 * width as each other. This also has performance benefits: because the browser
 * does not need to (re)calculate cell dimensions based on content it discovers,
 * the table can be rendered very quickly. Further reading:
 * https://developer.mozilla.org/en-US/docs/Web/CSS/table-layout#Values
 */
.o-table--fixed {
  table-layout: fixed;
}

/**
 * Add a parent div around a table with this class to allow it
 * to be scrollable horizontally if the viewport is to small.
 */
.o-table-container {
  width: 100%;
  overflow-y: auto;
}

.o-table__head {
  background: $sp-c-mist;

  .o-table__cell {
    border-bottom: 1px solid $sp-c-silver;

    padding-top: double($gel-spacing-unit);
    padding-bottom: halve($gel-spacing-unit);

    vertical-align: bottom;
  }
}

/**
 * Adds hover state to table row if required.
 */
.o-table__row {
  &:focus,
  &:hover {
    background-color: $sp-c-mist;
  }
}

.o-table__row--disabled {
  &,
  .o-table__link {
    color: $sp-c-mortar;
  }
}

.o-table__row--highlighted {
  background-color: $sp-c-solitude-blue;

  &:focus,
  &:hover {
    background-color: darken($sp-c-solitude-blue, 5%);
  }

  .o-table__cell {
    border-bottom: 1px solid darken($sp-c-solitude-blue, 4%);
  }
}

/**
 * Use to break up tables to show boundaries or breaks.
 */
.o-table__row--break {
  .o-table__cell {
    border-bottom: 1px dashed $sp-c-charcoal;
  }
}

/**
 * 1. Force first and last cells to have increased padding
 */
.o-table__cell {
  border-bottom: 1px solid $sp-c-cloud;
  padding: $gel-spacing-unit halve($gel-spacing-unit);
  text-align: center;

  &:first-child {
    #{$padding-left}: $gel-spacing-unit; /* [1] */
  }

  &:last-child {
    #{$padding-right}: $gel-spacing-unit; /* [1] */
  }
}

.o-table__cell--flush {
  padding: 0;
}

.o-table__cell--no-border {
  border-bottom: 0;
}

.o-table__cell--border-right {
  #{$border-right}: 1px solid $sp-c-cloud;
}

.o-table__cell--border-left {
  #{$border-left}: 1px solid $sp-c-cloud;
}

.o-table__cell--left {
  text-align: flip(left, right);
}

.o-table__cell--center {
  text-align: center;
}

.o-table__cell--right {
  text-align: flip(right, left);
}

.o-table__cell--bold {
  font-weight: bold;
}

.o-table__cell--break {
  border-top: 1px dashed $sp-c-charcoal;
}

.o-table__link {
  display: block;

  color: $sp-c-black;
  font-weight: bold;

  &:focus,
  &:hover {
    text-decoration: underline;
  }
}
